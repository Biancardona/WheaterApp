{"version":3,"sources":["app.js"],"names":["formulario","document","querySelector","resultado","window","addEventListener","obtainData","e","ciudadInput","value","paisInput","preventDefault","console","log","mostrarAlerta","consultarAPI","ciudad","pais","APIkey","url","concat","spinner","fetch","then","response","json","data","cod","showData","reset","datos","limpiarHTML","name","_datos$main","main","temp","temp_max","temp_min","temperatura","kelvinACentigrados","temperaturaMax","temperaturaMin","nombre","createElement","classList","add","innerHTML","tempActual","tempMax","tempMin","resultadoDiv","appendChild","grados","parseInt","mensaje","eliminarAlerta","error","textContent","setTimeout","remove","alerta","spinnerDiv"],"mappings":"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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const formulario = document.querySelector(\"#formulario\");\nconst resultado = document.querySelector(\"#resultado\");\n\nwindow.addEventListener(\"load\", () => {\n  formulario.addEventListener(\"submit\", obtainData);\n  //ciudadInput.addEventListener(\"input\", validarInputs);\n});\n\nfunction obtainData(e) {\n  const ciudadInput = document.querySelector(\"#ciudad\").value;\n  const paisInput = document.querySelector(\"#pais\").value;\n  e.preventDefault();\n  console.log(\"buscando clima\");\n  //Validar formulario\n  if (ciudadInput === \"\" || paisInput === \"\") {\n    mostrarAlerta(\"Campo vacio, intenta de nuevo\");\n    return;\n  }\n  consultarAPI(ciudadInput, paisInput);\n\n  //Consultar API\n  //   let url = \"\";\n  //   fetch();\n}\n\nfunction consultarAPI(ciudad, pais) {\n  //Agregar ID\n  const APIkey = \"f1eaf1dac80df2c9ce8456fa6c624c60\";\n  //Usar template string para la url y pasar los parametros\n  const url = `https://api.openweathermap.org/data/2.5/weather?q=${ciudad},${pais}&appid=${APIkey}`;\n  console.log(url);\n  spinner();\n  fetch(url)\n    .then((response) => {\n      return response.json();\n    })\n    .then((data) => {\n      console.log(data);\n      data;\n      if (data.cod === \"404\") {\n        mostrarAlerta(\"Ciudad no corresponde al país\");\n      } else {\n        showData(data);\n      }\n    });\n  formulario.reset();\n}\n\nfunction showData(datos) {\n  limpiarHTML();\n  const {\n    name,\n    main: { temp, temp_max, temp_min },\n  } = datos;\n  //Guardar en variable el cambio de temperaturas\n  //Usando la funcion kelvinACentigrados\n  const temperatura = kelvinACentigrados(temp);\n  const temperaturaMax = kelvinACentigrados(temp_max);\n  const temperaturaMin = kelvinACentigrados(temp_min);\n\n  //Imprimir las temperaturas y el nombre\n  const nombre = document.createElement(\"P\");\n  nombre.classList.add(\"font-bold\", \"text-6xl\");\n  nombre.innerHTML = `${name}`;\n\n  const tempActual = document.createElement(\"P\");\n  tempActual.classList.add(\"text-6xl\");\n  tempActual.innerHTML = `Actual: ${temperatura} &#8451`; //EL &#8451 le da el formato de ºC\n\n  const tempMax = document.createElement(\"P\");\n  tempMax.classList.add(\"text-xl\");\n  tempMax.innerHTML = `Maxima:${temperaturaMax} &#8451`; //EL &#8451 le da el formato de ºC\n\n  const tempMin = document.createElement(\"P\");\n  tempMin.classList.add(\"text-xl\");\n  tempMin.innerHTML = `Minima: ${temperaturaMin} &#8451`;\n\n  const resultadoDiv = document.createElement(\"DIV\");\n  resultadoDiv.classList.add(\"text-white\", \"text-center\");\n  resultadoDiv.appendChild(nombre);\n  resultadoDiv.appendChild(tempActual);\n  resultadoDiv.appendChild(tempMax);\n  resultadoDiv.appendChild(tempMin);\n\n  resultado.appendChild(resultadoDiv);\n}\n//Funcion para cambiar los grados kelvin a centrigrados.\n//ParseInt para devolver la cantidad entera sin tanto decimal\nconst kelvinACentigrados = (grados) => parseInt(grados - 273.5);\n\nfunction mostrarAlerta(mensaje) {\n  limpiarHTML();\n  eliminarAlerta();\n  const error = document.createElement(\"P\");\n  error.textContent = mensaje;\n  error.classList.add(\n    \"bg-red-600\",\n    \"border-red-400\",\n    \"text-white\",\n    \"px-4\",\n    \"py-3\",\n    \"text-center\",\n    \"mt-6\"\n  );\n  formulario.appendChild(error);\n\n  setTimeout(() => {\n    error.remove();\n  }, 2000);\n}\n\nfunction eliminarAlerta() {\n  const alerta = document.querySelector(\".bg-red-600\");\n  if (alerta) {\n    alerta.remove();\n  }\n}\nfunction limpiarHTML() {\n  resultado.innerHTML = \"\";\n}\n\nfunction spinner() {\n  const spinnerDiv = document.createElement(\"DIV\");\n  spinnerDiv.classList.add(\"sk-fading-circle\");\n  spinnerDiv.innerHTML = `\n  <div class=\"sk-circle1 sk-circle\"></div>\n  <div class=\"sk-circle2 sk-circle\"></div>\n  <div class=\"sk-circle3 sk-circle\"></div>\n  <div class=\"sk-circle4 sk-circle\"></div>\n  <div class=\"sk-circle5 sk-circle\"></div>\n  <div class=\"sk-circle6 sk-circle\"></div>\n  <div class=\"sk-circle7 sk-circle\"></div>\n  <div class=\"sk-circle8 sk-circle\"></div>\n  <div class=\"sk-circle9 sk-circle\"></div>\n  <div class=\"sk-circle10 sk-circle\"></div>\n  <div class=\"sk-circle11 sk-circle\"></div>\n  <div class=\"sk-circle12 sk-circle\"></div>`;\n}\n"]}