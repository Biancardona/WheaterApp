{"version":3,"sources":["app.js"],"names":["formulario","document","querySelector","resultado","obtainData","e","ciudadInput","value","paisInput","preventDefault","console","log","consultarAPI","mostrarAlerta","ciudad","pais","url","concat","spinner","fetch","then","response","json","data","cod","showData","reset","datos","limpiarHTML","name","_datos$main","main","temp","temp_max","temp_min","temperatura","kelvinACentigrados","temperaturaMax","temperaturaMin","nombre","createElement","classList","add","innerHTML","tempActual","tempMax","tempMin","resultadoDiv","appendChild","window","addEventListener","grados","parseInt","mensaje","eliminarAlerta","error","textContent","setTimeout","remove","alerta","spinnerDiv"],"mappings":";AAAA,IAAMA,EAAaC,SAASC,cAAc,eACpCC,EAAYF,SAASC,cAAc,cAOzC,SAASE,EAAWC,GAClB,IAAMC,EAAcL,SAASC,cAAc,WAAWK,MAChDC,EAAYP,SAASC,cAAc,SAASK,MAClDF,EAAEI,iBACFC,QAAQC,IAAI,kBAEQ,KAAhBL,GAAoC,KAAdE,EAI1BI,EAAaN,EAAaE,GAHxBK,EAAc,iCAUlB,SAASD,EAAaE,EAAQC,GAE5B,IAEMC,EAAGC,qDAAAA,OAAwDH,EAAMG,KAAAA,OAAIF,EAAIE,WAAAA,OAFhE,oCAGfP,QAAQC,IAAIK,GACZE,IACAC,MAAMH,GACHI,KAAK,SAACC,GACL,OAAOA,EAASC,SAEjBF,KAAK,SAACG,GACLb,QAAQC,IAAIY,GAEK,QAAbA,EAAKC,IACPX,EAAc,iCAEdY,EAASF,KAGfvB,EAAW0B,QAGb,SAASD,EAASE,GAChBC,IACA,IACEC,EAEEF,EAFFE,KAAIC,EAEFH,EADFI,KAAQC,EAAIF,EAAJE,KAAMC,EAAQH,EAARG,SAAUC,EAAQJ,EAARI,SAIpBC,EAAcC,EAAmBJ,GACjCK,EAAiBD,EAAmBH,GACpCK,EAAiBF,EAAmBF,GAGpCK,EAAStC,SAASuC,cAAc,KACtCD,EAAOE,UAAUC,IAAI,YAAa,YAClCH,EAAOI,UAAS1B,GAAAA,OAAMY,GAEtB,IAAMe,EAAa3C,SAASuC,cAAc,KAC1CI,EAAWH,UAAUC,IAAI,YACzBE,EAAWD,UAAS1B,WAAAA,OAAckB,EAAoB,WAEtD,IAAMU,EAAU5C,SAASuC,cAAc,KACvCK,EAAQJ,UAAUC,IAAI,WACtBG,EAAQF,UAAS1B,UAAAA,OAAaoB,EAAuB,WAErD,IAAMS,EAAU7C,SAASuC,cAAc,KACvCM,EAAQL,UAAUC,IAAI,WACtBI,EAAQH,UAAS1B,WAAAA,OAAcqB,EAAuB,WAEtD,IAAMS,EAAe9C,SAASuC,cAAc,OAC5CO,EAAaN,UAAUC,IAAI,aAAc,eACzCK,EAAaC,YAAYT,GACzBQ,EAAaC,YAAYJ,GACzBG,EAAaC,YAAYH,GACzBE,EAAaC,YAAYF,GAEzB3C,EAAU6C,YAAYD,GAjFxBE,OAAOC,iBAAiB,OAAQ,WAC9BlD,EAAWkD,iBAAiB,SAAU9C,KAoFxC,IAAMgC,EAAqB,SAACe,GAAM,OAAKC,SAASD,EAAS,QAEzD,SAAStC,EAAcwC,GACrBzB,IACA0B,IACA,IAAMC,EAAQtD,SAASuC,cAAc,KACrCe,EAAMC,YAAcH,EACpBE,EAAMd,UAAUC,IACd,aACA,iBACA,aACA,OACA,OACA,cACA,QAEF1C,EAAWgD,YAAYO,GAEvBE,WAAW,WACTF,EAAMG,UACL,KAGL,SAASJ,IACP,IAAMK,EAAS1D,SAASC,cAAc,eAClCyD,GACFA,EAAOD,SAGX,SAAS9B,IACPzB,EAAUwC,UAAY,GAGxB,SAASzB,IACP,IAAM0C,EAAa3D,SAASuC,cAAc,OAC1CoB,EAAWnB,UAAUC,IAAI,oBACzBkB,EAAWjB,UAY+B","file":"app.6e7fb7ff.js","sourceRoot":"..","sourcesContent":["const formulario = document.querySelector(\"#formulario\");\nconst resultado = document.querySelector(\"#resultado\");\n\nwindow.addEventListener(\"load\", () => {\n  formulario.addEventListener(\"submit\", obtainData);\n  //ciudadInput.addEventListener(\"input\", validarInputs);\n});\n\nfunction obtainData(e) {\n  const ciudadInput = document.querySelector(\"#ciudad\").value;\n  const paisInput = document.querySelector(\"#pais\").value;\n  e.preventDefault();\n  console.log(\"buscando clima\");\n  //Validar formulario\n  if (ciudadInput === \"\" || paisInput === \"\") {\n    mostrarAlerta(\"Campo vacio, intenta de nuevo\");\n    return;\n  }\n  consultarAPI(ciudadInput, paisInput);\n\n  //Consultar API\n  //   let url = \"\";\n  //   fetch();\n}\n\nfunction consultarAPI(ciudad, pais) {\n  //Agregar ID\n  const APIkey = \"f1eaf1dac80df2c9ce8456fa6c624c60\";\n  //Usar template string para la url y pasar los parametros\n  const url = `https://api.openweathermap.org/data/2.5/weather?q=${ciudad},${pais}&appid=${APIkey}`;\n  console.log(url);\n  spinner();\n  fetch(url)\n    .then((response) => {\n      return response.json();\n    })\n    .then((data) => {\n      console.log(data);\n      data;\n      if (data.cod === \"404\") {\n        mostrarAlerta(\"Ciudad no corresponde al país\");\n      } else {\n        showData(data);\n      }\n    });\n  formulario.reset();\n}\n\nfunction showData(datos) {\n  limpiarHTML();\n  const {\n    name,\n    main: { temp, temp_max, temp_min },\n  } = datos;\n  //Guardar en variable el cambio de temperaturas\n  //Usando la funcion kelvinACentigrados\n  const temperatura = kelvinACentigrados(temp);\n  const temperaturaMax = kelvinACentigrados(temp_max);\n  const temperaturaMin = kelvinACentigrados(temp_min);\n\n  //Imprimir las temperaturas y el nombre\n  const nombre = document.createElement(\"P\");\n  nombre.classList.add(\"font-bold\", \"text-6xl\");\n  nombre.innerHTML = `${name}`;\n\n  const tempActual = document.createElement(\"P\");\n  tempActual.classList.add(\"text-6xl\");\n  tempActual.innerHTML = `Actual: ${temperatura} &#8451`; //EL &#8451 le da el formato de ºC\n\n  const tempMax = document.createElement(\"P\");\n  tempMax.classList.add(\"text-xl\");\n  tempMax.innerHTML = `Maxima:${temperaturaMax} &#8451`; //EL &#8451 le da el formato de ºC\n\n  const tempMin = document.createElement(\"P\");\n  tempMin.classList.add(\"text-xl\");\n  tempMin.innerHTML = `Minima: ${temperaturaMin} &#8451`;\n\n  const resultadoDiv = document.createElement(\"DIV\");\n  resultadoDiv.classList.add(\"text-white\", \"text-center\");\n  resultadoDiv.appendChild(nombre);\n  resultadoDiv.appendChild(tempActual);\n  resultadoDiv.appendChild(tempMax);\n  resultadoDiv.appendChild(tempMin);\n\n  resultado.appendChild(resultadoDiv);\n}\n//Funcion para cambiar los grados kelvin a centrigrados.\n//ParseInt para devolver la cantidad entera sin tanto decimal\nconst kelvinACentigrados = (grados) => parseInt(grados - 273.5);\n\nfunction mostrarAlerta(mensaje) {\n  limpiarHTML();\n  eliminarAlerta();\n  const error = document.createElement(\"P\");\n  error.textContent = mensaje;\n  error.classList.add(\n    \"bg-red-600\",\n    \"border-red-400\",\n    \"text-white\",\n    \"px-4\",\n    \"py-3\",\n    \"text-center\",\n    \"mt-6\"\n  );\n  formulario.appendChild(error);\n\n  setTimeout(() => {\n    error.remove();\n  }, 2000);\n}\n\nfunction eliminarAlerta() {\n  const alerta = document.querySelector(\".bg-red-600\");\n  if (alerta) {\n    alerta.remove();\n  }\n}\nfunction limpiarHTML() {\n  resultado.innerHTML = \"\";\n}\n\nfunction spinner() {\n  const spinnerDiv = document.createElement(\"DIV\");\n  spinnerDiv.classList.add(\"sk-fading-circle\");\n  spinnerDiv.innerHTML = `\n  <div class=\"sk-circle1 sk-circle\"></div>\n  <div class=\"sk-circle2 sk-circle\"></div>\n  <div class=\"sk-circle3 sk-circle\"></div>\n  <div class=\"sk-circle4 sk-circle\"></div>\n  <div class=\"sk-circle5 sk-circle\"></div>\n  <div class=\"sk-circle6 sk-circle\"></div>\n  <div class=\"sk-circle7 sk-circle\"></div>\n  <div class=\"sk-circle8 sk-circle\"></div>\n  <div class=\"sk-circle9 sk-circle\"></div>\n  <div class=\"sk-circle10 sk-circle\"></div>\n  <div class=\"sk-circle11 sk-circle\"></div>\n  <div class=\"sk-circle12 sk-circle\"></div>`;\n}\n"]}